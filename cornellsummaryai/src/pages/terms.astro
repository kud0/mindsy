---
import BaseLayout from '../layouts/BaseLayout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import { useTranslations } from '../lib/i18n';

// Get user from locals (set by middleware)
const user = Astro.locals.user;
const isAuthenticated = !!user;
const lang = 'en';
const t = useTranslations(lang);
---

<BaseLayout title="Terms of Service">
  <div class="min-h-screen bg-gradient-to-b from-blue-50 to-white">
    <Navbar
      lang={lang}
      currentPage="terms"
      isAuthenticated={isAuthenticated}
    />
    
    <!-- Header Section -->
    <section class="pt-20 pb-16">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-4">
              {t('terms.title')}
            </h1>
            <p class="text-xl text-gray-600">
              {t('terms.subtitle')}
            </p>
          </div>
          
          <div class="mb-8">
            <a 
              href="/" 
              class="inline-flex items-center text-blue-600 hover:text-blue-700 transition-colors"
            >
              <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
              </svg>
              {t('terms.backHome')}
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Terms Content Section -->
    <section class="pb-20">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto">
          <div class="bg-white rounded-lg shadow-lg p-8 md:p-12">
            <div class="prose prose-lg max-w-none">
              <!-- Last Updated -->
              <div class="mb-8 p-4 bg-blue-50 rounded-lg border border-blue-200">
                <p class="text-sm text-blue-800 font-medium">
                  <strong>{t('terms.lastUpdated')}:</strong> August 2025
                </p>
              </div>

              <!-- Terms Content -->
              <div class="space-y-8">
                <p class="text-lg text-gray-700 leading-relaxed">
                  Welcome to mysummary.app! These Terms of Service ("Terms") govern your use of our website, services, and application (collectively, the "Service"), provided by mysummary.app ("we," "us," or "our").
                </p>
                
                <p class="text-gray-700">
                  By creating an account or using our Service, you agree to these Terms. Please read them carefully.
                </p>

                <section>
                  <h2 class="text-2xl font-bold text-gray-900 mb-4">1. Our Service</h2>
                  <p class="text-gray-700">
                    mysummary.app is a Software-as-a-Service (SaaS) application that uses artificial intelligence to transcribe user-uploaded audio files and generate structured study materials, such as Mindsy Notes and summaries (the "Generated Content").
                  </p>
                </section>

                <section>
                  <h2 class="text-2xl font-bold text-gray-900 mb-4">2. User Accounts</h2>
                  <ul class="space-y-3 text-gray-700">
                    <li>
                      <strong>Account Creation:</strong> To use our Service, you must create an account. You agree to provide accurate and complete information.
                    </li>
                    <li>
                      <strong>Account Responsibility:</strong> You are solely responsible for all activity that occurs under your account and for keeping your password confidential and secure. You must notify us immediately of any breach of security or unauthorized use of your account.
                    </li>
                    <li>
                      <strong>Age Requirement:</strong> There is no minimum age to use our service, but users are expected to have the authority to agree to these terms.
                    </li>
                  </ul>
                </section>

                <section>
                  <h2 class="text-2xl font-bold text-gray-900 mb-4">3. User Content</h2>
                  <p class="text-gray-700 mb-4">This section covers the content you provide to the Service.</p>
                  <ul class="space-y-3 text-gray-700">
                    <li>
                      <strong>Ownership of Your Content:</strong> You retain full ownership of the original audio files you upload ("User Content") and the final Generated Content created by the Service. We claim no ownership rights over your materials.
                    </li>
                    <li>
                      <strong>License to Us:</strong> In order to operate and provide the Service, you grant us a limited, worldwide, non-exclusive, royalty-free license to use, process, reproduce, and store your User Content. This license is solely for the purpose of providing the Service to you, including transcribing your audio, generating notes, and troubleshooting. This license ends when you delete your content or your account.
                    </li>
                    <li>
                      <strong>Acceptable Use:</strong> You agree not to upload any User Content that is illegal, hateful, discriminatory, or infringes upon the intellectual property rights of others. We reserve the right to remove any content or terminate accounts that violate this policy.
                    </li>
                  </ul>
                </section>

                <section>
                  <h2 class="text-2xl font-bold text-gray-900 mb-4">4. Subscriptions and Payments</h2>
                  <ul class="space-y-3 text-gray-700">
                    <li>
                      <strong>Billing:</strong> Our paid plans are billed on a monthly subscription basis. Your subscription will automatically renew each month unless you cancel it.
                    </li>
                    <li>
                      <strong>Cancellations:</strong> You may cancel your paid subscription at any time through your account settings. Your subscription will remain active until the end of your current paid billing period, after which it will not be renewed.
                    </li>
                    <li>
                      <strong>Non-Payment:</strong> If a recurring payment fails, we will not immediately terminate your account. Your account will be automatically downgraded to our Free tier, and you may lose access to the features and limits of your paid plan until a valid payment method is provided.
                    </li>
                    <li>
                      <strong>Refund Policy:</strong> All payments are non-refundable. However, we are committed to customer satisfaction. If you believe you have been billed in error or have exceptional circumstances, please contact our support team at <strong>support@mysummary.app</strong>, and we will review your case.
                    </li>
                  </ul>
                </section>

                <section>
                  <h2 class="text-2xl font-bold text-gray-900 mb-4">5. Service Availability and Disclaimers</h2>
                  <ul class="space-y-3 text-gray-700">
                    <li>
                      <strong>"As-Is" Service:</strong> We will use reasonable efforts to keep the Service operational. However, the Service is provided "as-is" and "as-available" without any warranties, express or implied. We do not guarantee that the service will be uninterrupted, secure, or error-free, especially due to external factors beyond our control.
                    </li>
                    <li>
                      <strong>Accuracy of AI Content:</strong> The AI-generated notes and summaries are created by complex machine learning models. While we strive for a high degree of accuracy, the AI can make mistakes or misinterpret audio. You acknowledge that the Generated Content may contain errors and agree to verify any critical information. mysummary.app is not liable for any inaccuracies in the Generated Content.
                    </li>
                  </ul>
                </section>

                <section>
                  <h2 class="text-2xl font-bold text-gray-900 mb-4">6. Termination</h2>
                  <p class="text-gray-700">
                    We may terminate or suspend your account immediately, without prior notice or liability, for any reason, including but not limited to a breach of these Terms or engagement in illegal activities. You may terminate your account at any time by deleting it from your account settings.
                  </p>
                </section>

                <section>
                  <h2 class="text-2xl font-bold text-gray-900 mb-4">7. Governing Law</h2>
                  <p class="text-gray-700">
                    These Terms shall be governed and construed in accordance with the laws of <strong>Spain</strong>, without regard to its conflict of law provisions. Any legal disputes will be resolved in the courts of Spain.
                  </p>
                </section>

                <section>
                  <h2 class="text-2xl font-bold text-gray-900 mb-4">8. Changes to Terms</h2>
                  <p class="text-gray-700">
                    We reserve the right to modify these Terms at any time. If we make changes, we will notify you by revising the date at the top of the policy and, in some cases, we may provide you with additional notice (such as adding a statement to our homepage or sending you a notification). Your continued use of the Service after any changes constitutes your acceptance of the new Terms.
                  </p>
                </section>

                <section>
                  <h2 class="text-2xl font-bold text-gray-900 mb-4">9. Contact Us</h2>
                  <p class="text-gray-700">
                    If you have any questions about these Terms, please contact us at <strong>support@mysummary.app</strong>.
                  </p>
                </section>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <Footer lang={lang} isAuthenticated={isAuthenticated} />
  </div>
</BaseLayout>